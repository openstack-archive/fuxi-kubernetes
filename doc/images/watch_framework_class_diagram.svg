<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="470px" preserveAspectRatio="none" style="width:549px;height:470px;" version="1.1" viewBox="0 0 549 470" width="549px" zoomAndPan="magnify"><defs><filter height="300%" id="fohftrsfimpos" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class DeltaFIFO--><rect fill="#FEFECE" filter="url(#fohftrsfimpos)" height="150.4375" id="DeltaFIFO" style="stroke: #A80036; stroke-width: 1.5;" width="198" x="151.5" y="8"/><ellipse cx="216.75" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M219.0938,19.6719 L219.2656,19.75 C219.4844,19.4375 219.6875,19.3438 219.9844,19.3438 C220.2813,19.3438 220.5625,19.4844 220.7188,19.75 C220.8125,19.9063 220.8281,20.0313 220.8281,20.4688 L220.8281,21.8906 C220.8281,22.3125 220.7969,22.5 220.6875,22.6563 C220.5156,22.875 220.25,23.0156 219.9844,23.0156 C219.7656,23.0156 219.5313,22.9063 219.3906,22.7656 C219.25,22.6406 219.2188,22.5156 219.1563,22.1094 C219.0625,21.7031 218.8906,21.4844 218.4063,21.2031 C217.9375,20.9531 217.3281,20.7969 216.75,20.7969 C215.0156,20.7969 213.7656,22.1094 213.7656,23.8906 L213.7656,24.9844 C213.7656,26.6875 215.0625,27.7813 217.1094,27.7813 C217.875,27.7813 218.5625,27.6563 218.9844,27.3906 C219.1719,27.2969 219.1719,27.2969 219.625,26.8125 C219.8125,26.625 220.0156,26.5469 220.2344,26.5469 C220.7031,26.5469 221.0938,26.9375 221.0938,27.3906 C221.0938,27.7813 220.7656,28.2344 220.1875,28.6406 C219.4375,29.1875 218.2813,29.4844 217.0625,29.4844 C214.1719,29.4844 212.0625,27.5938 212.0625,25.0156 L212.0625,23.8906 C212.0625,21.1719 214.0625,19.0938 216.6875,19.0938 C217.5625,19.0938 218.1563,19.2344 219.0938,19.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="237.25" y="28.1543">DeltaFIFO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="152.5" x2="348.5" y1="40" y2="40"/><ellipse cx="162.5" cy="51.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="171.5" y="54.2104">_items dict of list</text><ellipse cx="162.5" cy="64.707" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="171.5" y="67.0151">_queue []</text><ellipse cx="162.5" cy="77.5117" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="171.5" y="79.8198">_known_objects _KnownObject</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="152.5" x2="348.5" y1="86.4141" y2="86.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="157.5" y="100.6245">add(obj)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="157.5" y="113.4292">delete(obj)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="157.5" y="126.2339">update(obj)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="157.5" y="139.0386">replace(objs)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="157.5" y="151.8433">pop()</text><!--class _KnownObject--><rect fill="#FEFECE" filter="url(#fohftrsfimpos)" height="60.8047" id="_KnownObject" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="384.5" y="52.5"/><ellipse cx="399.5" cy="68.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M401.8438,64.1719 L402.0156,64.25 C402.2344,63.9375 402.4375,63.8438 402.7344,63.8438 C403.0313,63.8438 403.3125,63.9844 403.4688,64.25 C403.5625,64.4063 403.5781,64.5313 403.5781,64.9688 L403.5781,66.3906 C403.5781,66.8125 403.5469,67 403.4375,67.1563 C403.2656,67.375 403,67.5156 402.7344,67.5156 C402.5156,67.5156 402.2813,67.4063 402.1406,67.2656 C402,67.1406 401.9688,67.0156 401.9063,66.6094 C401.8125,66.2031 401.6406,65.9844 401.1563,65.7031 C400.6875,65.4531 400.0781,65.2969 399.5,65.2969 C397.7656,65.2969 396.5156,66.6094 396.5156,68.3906 L396.5156,69.4844 C396.5156,71.1875 397.8125,72.2813 399.8594,72.2813 C400.625,72.2813 401.3125,72.1563 401.7344,71.8906 C401.9219,71.7969 401.9219,71.7969 402.375,71.3125 C402.5625,71.125 402.7656,71.0469 402.9844,71.0469 C403.4531,71.0469 403.8438,71.4375 403.8438,71.8906 C403.8438,72.2813 403.5156,72.7344 402.9375,73.1406 C402.1875,73.6875 401.0313,73.9844 399.8125,73.9844 C396.9219,73.9844 394.8125,72.0938 394.8125,69.5156 L394.8125,68.3906 C394.8125,65.6719 396.8125,63.5938 399.4375,63.5938 C400.3125,63.5938 400.9063,63.7344 401.8438,64.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="413.5" y="72.6543">_KnownObject</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="385.5" x2="501.5" y1="84.5" y2="84.5"/><ellipse cx="395.5" cy="96.4023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="404.5" y="98.7104">_items dict</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="385.5" x2="501.5" y1="105.3047" y2="105.3047"/><!--class Producer--><rect fill="#FEFECE" filter="url(#fohftrsfimpos)" height="124.8281" id="Producer" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="14" y="218"/><ellipse cx="77.75" cy="234" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M80.0938,229.6719 L80.2656,229.75 C80.4844,229.4375 80.6875,229.3438 80.9844,229.3438 C81.2813,229.3438 81.5625,229.4844 81.7188,229.75 C81.8125,229.9063 81.8281,230.0313 81.8281,230.4688 L81.8281,231.8906 C81.8281,232.3125 81.7969,232.5 81.6875,232.6563 C81.5156,232.875 81.25,233.0156 80.9844,233.0156 C80.7656,233.0156 80.5313,232.9063 80.3906,232.7656 C80.25,232.6406 80.2188,232.5156 80.1563,232.1094 C80.0625,231.7031 79.8906,231.4844 79.4063,231.2031 C78.9375,230.9531 78.3281,230.7969 77.75,230.7969 C76.0156,230.7969 74.7656,232.1094 74.7656,233.8906 L74.7656,234.9844 C74.7656,236.6875 76.0625,237.7813 78.1094,237.7813 C78.875,237.7813 79.5625,237.6563 79.9844,237.3906 C80.1719,237.2969 80.1719,237.2969 80.625,236.8125 C80.8125,236.625 81.0156,236.5469 81.2344,236.5469 C81.7031,236.5469 82.0938,236.9375 82.0938,237.3906 C82.0938,237.7813 81.7656,238.2344 81.1875,238.6406 C80.4375,239.1875 79.2813,239.4844 78.0625,239.4844 C75.1719,239.4844 73.0625,237.5938 73.0625,235.0156 L73.0625,233.8906 C73.0625,231.1719 75.0625,229.0938 77.6875,229.0938 C78.5625,229.0938 79.1563,229.2344 80.0938,229.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="98.25" y="238.1543">Producer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="15" x2="206" y1="250" y2="250"/><ellipse cx="25" cy="261.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="34" y="264.2104">_watch_resouce_type object</text><ellipse cx="25" cy="274.707" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="34" y="277.0151">_lister_watcher ListerWatcher</text><ellipse cx="25" cy="287.5117" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="34" y="289.8198">_watch_timeout int</text><ellipse cx="25" cy="300.3164" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="34" y="302.6245">_store DeltaFIFO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="15" x2="206" y1="309.2188" y2="309.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="20" y="323.4292">start()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="20" y="336.2339">stop()</text><polygon fill="#FBFB77" filter="url(#fohftrsfimpos)" points="6,403,6,458.3984,215,458.3984,215,413,205,403,6,403" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="6,403,6,458.3984,215,458.3984,215,413,205,403,114.5,403,110.5,343.408,106.5,403,6,403" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="205" x2="205" y1="403" y2="413"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="215" x2="205" y1="413" y2="413"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="12" y="420.0669">ListerWatcher = namedtuple(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="20" y="435.1997">'ListerWatcher',</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="20" y="450.3325">'list, watch')</text><!--class Consumer--><rect fill="#FEFECE" filter="url(#fohftrsfimpos)" height="99.2188" id="Consumer" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="242.5" y="231"/><ellipse cx="354.75" cy="247" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M357.0938,242.6719 L357.2656,242.75 C357.4844,242.4375 357.6875,242.3438 357.9844,242.3438 C358.2813,242.3438 358.5625,242.4844 358.7188,242.75 C358.8125,242.9063 358.8281,243.0313 358.8281,243.4688 L358.8281,244.8906 C358.8281,245.3125 358.7969,245.5 358.6875,245.6563 C358.5156,245.875 358.25,246.0156 357.9844,246.0156 C357.7656,246.0156 357.5313,245.9063 357.3906,245.7656 C357.25,245.6406 357.2188,245.5156 357.1563,245.1094 C357.0625,244.7031 356.8906,244.4844 356.4063,244.2031 C355.9375,243.9531 355.3281,243.7969 354.75,243.7969 C353.0156,243.7969 351.7656,245.1094 351.7656,246.8906 L351.7656,247.9844 C351.7656,249.6875 353.0625,250.7813 355.1094,250.7813 C355.875,250.7813 356.5625,250.6563 356.9844,250.3906 C357.1719,250.2969 357.1719,250.2969 357.625,249.8125 C357.8125,249.625 358.0156,249.5469 358.2344,249.5469 C358.7031,249.5469 359.0938,249.9375 359.0938,250.3906 C359.0938,250.7813 358.7656,251.2344 358.1875,251.6406 C357.4375,252.1875 356.2813,252.4844 355.0625,252.4844 C352.1719,252.4844 350.0625,250.5938 350.0625,248.0156 L350.0625,246.8906 C350.0625,244.1719 352.0625,242.0938 354.6875,242.0938 C355.5625,242.0938 356.1563,242.2344 357.0938,242.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="375.25" y="251.1543">Consumer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="243.5" x2="537.5" y1="263" y2="263"/><ellipse cx="253.5" cy="274.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="262.5" y="277.2104">_store DeltaFIFO</text><ellipse cx="253.5" cy="287.707" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="270" x="262.5" y="290.0151">_resource_event_handler ResouceEventHandler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="243.5" x2="537.5" y1="296.6094" y2="296.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="248.5" y="310.8198">start()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="248.5" y="323.6245">stop()</text><polygon fill="#FBFB77" filter="url(#fohftrsfimpos)" points="259.5,403,259.5,458.3984,521.5,458.3984,521.5,413,511.5,403,259.5,403" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="259.5,403,259.5,458.3984,521.5,458.3984,521.5,413,511.5,403,394.5,403,390.5,330.371,386.5,403,259.5,403" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="511.5" x2="511.5" y1="403" y2="413"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="521.5" x2="511.5" y1="413" y2="413"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="265.5" y="420.0669">ResouceEventHandler = namedtuple(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="273.5" y="435.1997">'ResouceEventHandler',</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="273.5" y="450.3325">'on_add, on_delete, on_update')</text><!--link DeltaFIFO to _KnownObject--><path d="M362.7,83 C369.957,83 377.213,83 384.47,83 " fill="none" id="DeltaFIFO-_KnownObject" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="349.639,83,355.639,87,361.639,83,355.639,79,349.639,83" style="stroke: #A80036; stroke-width: 1.0;"/><!--link DeltaFIFO to Producer--><path d="M197.372,158.189 C185.934,174.162 173.856,191.028 162.462,206.938 " fill="none" id="DeltaFIFO-Producer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="154.7,217.778,161.4457,215.2294,161.6877,208.0224,154.942,210.571,154.7,217.778" style="stroke: #A80036; stroke-width: 1.0;"/><!--link DeltaFIFO to Consumer--><path d="M303.628,158.189 C318.313,178.696 334.051,200.673 348.043,220.212 " fill="none" id="DeltaFIFO-Consumer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="355.619,230.791,355.377,223.584,348.6313,221.0354,348.8733,228.2424,355.619,230.791" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
class DeltaFIFO {
  +_items dict of list
  +_queue []
  +_known_objects _KnownObject
  add(obj)
  delete(obj)
  update(obj)
  replace(objs)
  pop()
}
DeltaFIFO o. _KnownObject

class _KnownObject {
  +_items dict
}

class Producer {
  +_watch_resouce_type object
  +_lister_watcher ListerWatcher
  +_watch_timeout int
  +_store DeltaFIFO
  start()
  stop()  
}
DeltaFIFO ..o Producer
note bottom of Producer
ListerWatcher = namedtuple(
  'ListerWatcher',
  'list, watch')
end note

class Consumer {
  +_store DeltaFIFO
  +_resource_event_handler ResouceEventHandler
  start()
  stop()
}
DeltaFIFO ..o Consumer
note bottom of Consumer
ResouceEventHandler = namedtuple(
  'ResouceEventHandler',
  'on_add, on_delete, on_update')
end note
@enduml

PlantUML version 1.2017.16beta5(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>